仮想メモリ

ドライバがデータの受け渡しを行うためにメモリ領域の違いを知っておく必要がある。

物理メモリ：パソコンに搭載されているメモリのこと

仮想メモリ:物理メモリでアプリを動かすことがパソコンの高機能により、難しくなってきた。ここでアプリケーションをメモリ上へ配置するときに、仮想メモリに配置する
linuxでは、3GB分がユーザー空間に割り当てられている。

仮想メモリはあくまで仮想的なものなので物理メモリに変換する必要がある。ここで、ページングという概念を用いている。メモリを「ページ」と呼ばれる固定サイズの大きさに分割しているページ単位でメモリの管理を行う。

物理メモリと仮想メモリの対応にページテーブルを用いて対応付けしている。

プロセスがメモリアクセスをする
↓
cpuがメモリトランザクションを検出
↓
ページテーブルを使って、変換を行う
↓
変換成功したら、物理メモリに対応して空間にアクセスする

ページテーブルに数=プロセス数+1

物理メモリが少なかかろうが多からうが関係なしに一つのプロセスは3ＧＢ分しかメモリを確保しない

メモリがいっぱいになるといけないのでスワップという使っていない部分を掃除することを行っている。

ドライバ間の通信のために以下の関数が使われる。
・int strnicmp
・int strcasecmp etc

実際に通信を行うときにデータの受け渡しを行うことが多々ある

readやwriteといったシステムコールを用いる
ここでユーザ空間とカーネル空間は別々のメモリ空間で動作しているため直接メモリアクセスできない
4GBのうち3GBはユーザプロセス用で1GBはカーネル用である。
カーネル側からユーザ空間へのアクセスはできるが逆はできない。

